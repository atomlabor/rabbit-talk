name: Deploy to GitHub Pageson:push:branches:- mainjobs:build-and-deploy:runs-on: ubuntu-lateststeps:- name: Checkout Repositoryuses: actions/checkout@v2  - name: Inject Firebase Config
    run: |
      # Erstellen der tempor√§ren Datei mit der korrekten Firebase-Konfiguration
      FIREBASE_CONFIG_JS="const firebaseConfig = {
          apiKey: \"${{ secrets.FIREBASE_API_KEY }}\",
          authDomain: \"${{ secrets.FIREBASE_AUTH_DOMAIN }}\",
          projectId: \"${{ secrets.FIREBASE_PROJECT_ID }}\",
          storageBucket: \"${{ secrets.FIREBASE_STORAGE_BUCKET }}\",
          messagingSenderId: \"${{ secrets.FIREBASE_MESSAGING_SENDER_ID }}\",
          appId: \"${{ secrets.FIREBASE_APP_ID }}\"
      };"
      
      # Ersetzen des gesamten Konfigurationsblocks in der HTML-Datei
      sed -i 's|const firebaseConfig = {[^}]*};|'"$FIREBASE_CONFIG_JS"'|' chat_app.html
      
  - name: Deploy to GitHub Pages
    uses: peaceiris/actions-gh-pages@v3
    with:
      github_token: ${{ secrets.GITHUB_TOKEN }}
      publish_dir: .
